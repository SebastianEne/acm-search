<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>jpg.in, jpg.out</td><td><strong>Sursă</strong></td><td>Winter Challenge 2008, Runda 2</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=252">Bogdan Alexandru Stoica</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td><span class="tiny-user"><a href="http://infoarena.ro/utilizator/fireatmyself"><img src="/utilizator/fireatmyself?action=download&amp;file=avatar&amp;resize=L16x16" alt="fireatmyself">Bogdan A. Stoica</a> <a title="Rating fireatmyself: 536" class="rating-badge-2" href="http://infoarena.ro/utilizator/fireatmyself?action=rating">•</a><span class="username"><a href="http://infoarena.ro/utilizator/fireatmyself">fireatmyself</a></span></span></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>0.6 sec</td><td><strong>Limită de memorie</strong></td><td>65536 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td>N/A</td></tr></table><p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=jpg">Vezi solutiile trimise</a></p>

<h1>Joc pe grid<br></h1>

<p>Devenind Presedintele Romaniei, Dubluveu a trebuit sa renunte la jocurile de noroc, dar si-a gasit repede o noua distractie. In timpul liber, cand nu sunt prinsi cu treburile tarii, el si Primul Ministru joaca urmatorul joc. Deseneaza, pe o foaie de hartie, <var>N</var> segmente de lungime <var>1 u</var> (o unitate), paralalele cu axele de coordonate, in asa fel incat sa se poata ajunge din orice punct in orice alt punct al figurii, mergand doar pe segmentele trasate (<var>fig. 1</var>).</p>

<p><img src="http://infoarena.ro/problema/jpg?action=download&amp;file=f1.jpg&amp;safe_only=true" alt=""></p>

<p>Dupa ce au stabilit tabla de joc, cei doi pot incepe sa coloreze, alternativ, segmentele. Jucatorul aflat la mutare, poate sa coloreze un segment doar daca acesta este <ins>latura a unui patrat de 1×1 care nu are colorata nicio alta latura</ins>. Spre exemplu (<var>fig. 2</var>), jucatorul aflat la mutare poate sa coloreze oricare din segmentele marcate cu <b>verde</b>. Nu poate colora, insa, niciun segment marcat cu <b>albastru</b> pentru ca zona <b>a</b> este un patrat de latura <var>2 u</var> (doua unitati), iar zona <b>b</b> (care este patrat de 1×1) are deja colorata o latura (cea cu rosu). De asemenea, nici cel marcat cu <b>mov</b> nu poate fi colorat deoarece, patratul <b>c</b> (singurul de care apartine segmentul) are, la randul lui, o latura colorata anterior.<br>
Pierde cel ce nu mai poate efectua nicio colorare.</p>

<h2>Cerinta</h2>

<p>Stiind ca ambii jucatori joaca optim si ca Dubluveu incepe, intotdeauna, jocul, se cere sa determinati daca el are strategie de castig si, in caz, afirmativ sa-i indicati toate posibilitatile de a face prima mutare pentru a-l infrange pe Primul Ministru.</p>

<h2>Date de intrare</h2>

<p>Fisierul de intrare <var>jpg.in</var> contine numarul natural <var>N</var> reprezentand numarul de segmente desenate. Urmeaza apoi <var>N</var> cvadruplete <var>(x1,y1,x2,y2)</var>, reprezentand coordonatele unui segment.</p>

<h2>Date de iesire</h2>

<p>In fisierul de iesire <var>jpg.out</var> se va scrie, pe prima linie, <var>1</var> daca Dubluveu are strategie de castig, sau 2, altfel. Daca Dubluveu castiga, pe a doua liniie se vor scrie toate posibilitatiile acestuia de a face prima mutare pentru a-l infrange pe Primul Ministru. Mai exact, vor fi afisati in ordine crescatoare indicii segmentelor cu proprietatea ca daca segmentul respectiv este primul pe care Dubluveu il coloreaza, atunci Dubluveu va castiga jocul.</p>

<h2>Restrictii</h2>


<ul><li><var>1 ≤ N ≤ 50</var></li>
<li>fiecare segment are lungimea <var>1</var> si este paralel cu <var>OX</var> sau cu <var>OY</var></li>
<li>coordonatele sunt numere naturale cuprinse in intervalul <var>[0,50]</var></li>
<li>Toate segmentele din fisierul de intrare sunt distincte</li>
<li>pentru <var>30%</var> din teste <var>N ≤ 13</var></li>
<li>pentru <var>60%</var> din teste <var>N ≤ 23</var></li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>jpg.in</th><th>jpg.out</th></tr><tr><td>8<br>
2 1 2 0<br>
1 2 2 2<br>
2 2 2 1<br>
0 2 1 2<br>
1 1 2 1<br>
2 0 1 0<br>
1 1 0 1<br>
1 1 1 2<br></td><td>1<br>
2 3 5 8</td></tr><tr><td>9<br>
1 2 1 3<br>
1 2 2 2<br>
1 3 2 3<br>
2 1 2 2<br>
3 1 2 1<br>
2 3 2 2<br>
3 1 3 2<br>
3 2 3 3<br>
3 2 2 2<br></td><td>2<br></td></tr></table><div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>



<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>