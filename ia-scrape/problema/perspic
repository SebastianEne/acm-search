<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>perspic.in, perspic.out</td><td><strong>Sursă</strong></td><td>ONI 2009 clasa a 9 a</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=153">Adrian Diaconu</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td><span class="tiny-user"><a href="http://infoarena.ro/utilizator/toni2007"><img src="/utilizator/toni2007?action=download&amp;file=avatar&amp;resize=L16x16" alt="toni2007">Pripoae Teodor Anton</a> <a title="Rating toni2007: 632" class="rating-badge-1" href="http://infoarena.ro/utilizator/toni2007?action=rating">•</a><span class="username"><a href="http://infoarena.ro/utilizator/toni2007">toni2007</a></span></span></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>0.1 sec</td><td><strong>Limită de memorie</strong></td><td>2048 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td>N/A</td></tr></table><p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=perspic">Vezi solutiile trimise</a></p>

<h1>Perspic<br></h1>

<p>Se consideră o matrice pătratică cu <var>N</var> linii şi <var>N</var> coloane ce conţine toate numerele naturale de la <var>1</var> la <var>N*N</var>.<br>
Asupra matricei se definesc trei tipuri de operaţii codificate astfel:</p>


<ul><li><var>C i j</var> – interschimbarea coloanelor <var>i</var> şi <var>j</var> ale matricei</li>
<li><var>R i j</var> – interschimbarea liniilor <var>i</var> şi <var>j</var> ale matricei</li>
<li><var>E i j x y</var> – interschimbarea elementului de pe linia <var>i</var> şi coloana <var>j</var> cu elementul de pe linia <var>x</var> şi coloana <var>y</var>.</li>
</ul><p>Asupra matricei se efectuează un set de <var>M</var> astfel de operaţii.</p>

<h2>Cerinţă</h2>

<p>Se cere să se determine numărul minim de aplicări complete ale acestui set de operaţii după care se ajunge din nou în starea iniţială. În cadrul setului operaţiile se efectuează mereu în aceeaşi ordine şi nu se poate sări peste o operaţie. Deoarece numărul acesta poate fi foarte mare se cere restul împărţirii sale la <var>13007</var>.</p>

<h2>Date de intrare</h2>

<p>Fişierul de intrare <var>perspic.in</var> conţine pe prima linie numerele naturale <var>N</var> şi <var>M</var>, separate printr-un spaţiu, reprezentând dimensiunea matricei şi respectiv numărul de operaţii dintr-un set. Pe următoarele <var>M</var> linii se descriu operaţiile setului.</p>

<h2>Date de ieşire</h2>

<p>Fişierul de ieşire <var>perspic.out</var> va conţine restul împărţirii la <var>13007</var> al numărului minim determinat.</p>

<h2>Restricţii</h2>


<ul><li><var>1 ≤ N ≤ 100</var></li>
<li><var>1 ≤ M ≤ 10.000</var></li>
<li>Pentru <var>60%</var> din teste numărul minim de aplicări ale setului de operaţii necesare va fi mai mic ca <var>2.000.000.000</var>.</li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>perspic.in</th><th>perspic.out</th></tr><tr><td>2 2<br>
  C 1 2<br>
  R 1 2<br></td><td>2<br></td></tr><tr><td>3 3<br>
  E 1 1 2 2<br>
  R 1 2<br>
  C 2 3<br></td><td>4<br></td></tr></table><h3>Explicaţie</h3>

<p>Pentru primul exemplu:</p>

<p>Matricea iniţială: <br>
1 2<br>
3 4<br>
Matricea după prima operaţie: <br>
2 1<br>
4 3<br>
Matricea după a doua operaţie(terminarea primului set): <br>
4 3<br>
2 1<br>
Matricea după a treia operaţie: <br>
3 4<br>
1 2<br>
Matricea după a patra operaţie(terminarea celui de al doilea set): <br>
1 2<br>
3 4</p>

<div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>



<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>