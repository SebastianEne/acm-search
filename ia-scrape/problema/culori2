<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>culori2.in, culori2.out</td><td><strong>Sursă</strong></td><td>Lot 2004</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=146">Radu Berinde</a>, <a href="/cauta-probleme?tag_id%5B%5D=191">Tiberiu Danet</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td><span class="tiny-user"><a href="http://infoarena.ro/utilizator/astronomy"><img src="/utilizator/astronomy?action=download&amp;file=avatar&amp;resize=L16x16" alt="astronomy">Airinei Adrian</a> <a title="Rating astronomy: 700" class="rating-badge-4" href="http://infoarena.ro/utilizator/astronomy?action=rating">•</a><span class="username"><a href="http://infoarena.ro/utilizator/astronomy">astronomy</a></span></span></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>2.5 sec</td><td><strong>Limită de memorie</strong></td><td>5120 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td>N/A</td></tr></table><p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=culori2">Vezi solutiile trimise</a></p>

<h1>Culori2<br></h1>

<p>Muncitorii de la cooperativa <var>Munca-n zadar</var> au la dispozitie o teava cu lungimea de <var>N</var> metri. Initial aceasta teava are culoarea <var>C</var>. Muncitorii pot taia o bucata de teava in doua bucati de lungimi intregi si revopsi cele doua bucati. Muncitorii pot sa se si razgandeasca si sa sudeze la loc doua bucati inapoi in bucata mare din care au fost despartite si sa o revopseasca cu culoarea pe care o avea inainte de taiere. Prin taiere sau sudare bucatile de tevi nu se muta din locul lor initial si deci o bucata de teava poate fi identificata prin pozitia ei. Pozitia unei bucati de teava este specificata prin distanta dintre inceputul tevii initiale si inceputul bucatii de teava exprimata in metri. </p>

<h2>Cerinta</h2>

<p>Lucrati la aceasta cooperativa si trebuie sa scrieti un program care implementeaza urmatoarele comenzi:</p>


<ul><li><var><span class="caps">SPLIT </span>(P L CL CR)</var>: bucata de teava care incepe la pozitia <var>P</var> va fi impartita in doua bucati mai mici, cea din stanga avand marimea <var>L</var>. Apoi bucata din stanga va fi colorata cu culoarea <var>CL</var> si cea din dreapta cu culoarea <var>CR</var>. Se garanteaza ca <var>0</var> &lt; <var>L</var> &lt; lungimea bucatii de teava care trebuie impartita</li>
<li><var><span class="caps">UNDO </span>(P)</var>: bucata care incepe la pozitia <var>P</var> se va resuda cu bucata imediat din dreapta ei. Se garanteaza ca in momentul apelarii acestei comenzi bucata imediat din dreapta ei este cea obtinuta prin aceeasi operatie de taiere in urma careia a rezultat bucata de la pozitia <var>P</var> (chiar daca se poate ca oricare dintre cele doua bucati sa fi fost taiate si resudate). Bucata rezultata se va recolora in culoarea pe care o avea inainte de taiere</li>
<li><var><span class="caps">GETCOLOR </span>(P)</var>: se afiseaza culoarea bucatii care incepe la pozitia <var>P</var></li>
</ul><p>Pentru toate comenzile, va exista o bucata de teava care sa inceapa la pozitia <var>P</var>.</p>

<h2>Date de intrare</h2>

<p>Fisierul <var>culori2.in</var> contine pe prima linie numerele <var>N</var>, <var>C</var> si <var>M</var>, separate printr-un spatiu. Fiecare dintre urmatoarele <var>M</var> linii contine o comanda. Comenzile sunt codificate astfel:</p>


<ul><li><var><span class="caps">SPLIT </span>(P L CL CR)</var> -&gt; <var>2 P L CL CR</var></li>
<li><var><span class="caps">UNDO </span>(P)</var> -&gt; <var>1 P</var></li>
<li><var><span class="caps">GETCOLOR </span>(P)</var> -&gt; <var>0 P</var></li>
</ul><h2>Date de iesire</h2>

<p>Fisierul <var>culori2.out</var> va contine atatea linii cate comenzi <var><span class="caps">GETCOLOR</span></var> sunt, reprezentand culorile respective, in ordinea comenzilor <var><span class="caps">GETCOLOR</span></var> corespunzatoare.</p>


<h2>Restrictii</h2>


<ul><li><var>1 ≤ N ≤ 524288 (2<sup>19</sup>)</var></li>
<li><var>1 ≤ M ≤ 2 000 000</var></li>
<li>Toate culorile au valori cuprinse intre <var>0</var> si <var>255</var> (inclusiv)</li>
<li>Pozitiile vor fi numere intregi intre <var>0</var> la <var>N-1</var> (inclusiv)</li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>culori2.in</th><th>culori2.out</th></tr><tr><td>11 3 13<br>
  2 0 8 1 3<br>
  1 0<br>
  2 0 10 3 0<br>
  0 0<br>
  2 0 9 1 1<br>
  2 0 8 2 3<br>
  1 0<br>
  2 0 5 2 3<br>
  1 0<br>
  2 0 5 3 2<br>
  0 9<br>
  1 0<br>
  0 0<br></td><td>3<br>
  1<br>
  1<br></td></tr></table><div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>



<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>