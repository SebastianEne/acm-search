<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>clear.in, clear.out</td><td><strong>Sursă</strong></td><td>Happy Coding 2007</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=136">Mugurel Ionut Andreica</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td><span class="tiny-user"><a href="http://infoarena.ro/utilizator/mugurelionut"><img src="/utilizator/mugurelionut?action=download&amp;file=avatar&amp;resize=L16x16" alt="mugurelionut">Mugurel Ionut Andreica</a> <a title="Rating mugurelionut: 884" class="rating-badge-1" href="http://infoarena.ro/utilizator/mugurelionut?action=rating">•</a><span class="username"><a href="http://infoarena.ro/utilizator/mugurelionut">mugurelionut</a></span></span></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>4.5 sec</td><td><strong>Limită de memorie</strong></td><td>65535 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td>N/A</td></tr></table><p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=clear">Vezi solutiile trimise</a></p>

<h1>Clear<br></h1>

<p>Fermierul Ionica are un teren de forma dreptunghiulara, impartit in <var>MxN</var> zone unitare (<var>M</var> este numarul de linii, iar <var>N</var> este numarul de coloane). In urma poluarii generate de uzina din apropiere, o parte dintre zone au fost afectate, astfel incat in zonele acelea nu mai poate fi cultivata momentan nici o planta. Pentru a putea cultiva din nou plante in acele zone, fermierul Ionica va trebui sa curete zonele respective. Pentru aceasta, el poate inchiria niste utilaje pentru indepartarea poluarii. Fiecare utilaj va fi amplasat initial intr-o zona afectata. Din zona initiala, un utilaj poate fi deplasat in orice zona afectata adiacenta (pe orizontala sau verticala) si asa mai departe, pana cand utilajul ajunge intr-o zona finala, de unde firma de la care a inchiriat fermierul utilajul va veni sa il ridice. Fiecare zona prin care trece un utilaj este curatata complet (inclusiv zona initiala si cea finala).</p>

<p>Firma care inchiriaza utilajele ofera <var>2</var> tipuri de contracte de inchiriere. Primul tip de contract permite amplasarea unui utilaj in orice zona afectata, deplasarea acestuia prin oricate zone afectate (poate sa nu fie deplasat deloc din zona initiala) si ridicarea acestuia din orice zona finala. Al doilea tip de contract permite amplasarea unui utilaj in orice zona afectata, insa pune conditia ca utilajul sa fie deplasat prin cel putin 4 zone afectate distincte (inclusiv zona initiala), iar zona finala sa fie aceeasi cu zona initiala. In cazul ambelor tipuri de contracte se permite inchirierea oricarui numar de utilaje.</p>

<p>Fermierul Ionica are si el propriile lui conditii. Un utilaj inchiriat nu trebuie sa treaca de mai multe ori prin aceeasi zona (cu exceptia zonei initiale, in cazul tipului <var>2</var> de contract), iar prin zonele neafectate nu trebuie sa treaca nici un utilaj. De asemenea, el doreste ca prin fiecare zona afectata sa treaca exact un singur utilaj.</p>

<p>Cunoscand tipul de contract ales de fermierul Ionica, dimensiunile terenului si pozitiile zonelor afectate de poluare, determinati numarul minim de utilaje pe care trebuie sa le inchirieze fermierul.</p>

<h2>Date de intrare</h2>

<p>Prima linie a fisierului de intrare <var>clear.in</var> contine <var>3</var> numere intregi: <var>X</var>, <var>M</var> si <var>N</var>. <var>X</var> reprezinta tipul contractului semnat cu firma de inchiriere. Urmatoarele <var>M</var> linii contin cate <var>N</var> caractere din multimea <var>{'0','1'}</var>. Daca al <var>j</var>-lea caracter de pe a <var>i</var>-a dintre aceste <var>M</var> linii este <var>1</var>, atunci zona de pe linia <var>i</var> si coloana <var>j</var> este afectata de poluare; in cazul in care caracterul este <var>0</var>, zona respectiva nu este afectata.</p>

<h2>Date de iesire</h2>

<p>In fisierul de iesire <var>clear.out</var> veti afisa numarul minim de utilaje pe care trebuie sa le inchirieze fermierul Ionica. Daca nu exista nici o posibilitate de a inchiria utilaje astfel incat sa fie satisfacute toate conditiile ambelor parti, atunci afisati <var>-1</var>.</p>

<h2>Restrictii</h2>


<ul><li><var>1 ≤ X ≤ 2</var></li>
<li><var>1 ≤ M ≤ 333</var></li>
<li>Daca <var>X = 1</var>, atunci <var>1 ≤ N ≤ 7</var></li>
<li>Daca <var>X = 2</var>, atunci <var>1 ≤ N ≤ 10</var></li>
<li><var>50%</var> din teste vor avea <var>X = 1</var> (restul de <var>50%</var> vor avea <var>X = 2</var>).</li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>clear.in</th><th>clear.out</th></tr><tr><td>1 3 4<br>
1101<br>
0111<br>
1111<br></td><td>2</td></tr><tr><td>2 3 4<br>
1101<br>
0111<br>
1111<br></td><td>-1</td></tr><tr><td>2 6 6<br>
011111<br>
010001<br>
111101<br>
101101<br>
100001<br>
111111<br></td><td>2</td></tr></table><div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>



<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>