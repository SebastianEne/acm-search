<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>trigame.in, trigame.out</td><td><strong>Sursă</strong></td><td>Stelele Informaticii 2007-2008, Clasele 11-12</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=122">Liviu Ciortea</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td><span class="tiny-user"><a href="http://infoarena.ro/utilizator/DITzoneC"><img src="/utilizator/DITzoneC?action=download&amp;file=avatar&amp;resize=L16x16" alt="DITzoneC">Adrian Diaconu</a> <a title="Rating DITzoneC: 596" class="rating-badge-4" href="http://infoarena.ro/utilizator/DITzoneC?action=rating">•</a><span class="username"><a href="http://infoarena.ro/utilizator/DITzoneC">DITzoneC</a></span></span></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>1.6 sec</td><td><strong>Limită de memorie</strong></td><td>32768 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td>N/A</td></tr></table><div class="banner"><img style="vertical-align: middle; float: left;" src="/static/images/open_big.png"><em>Pentru aceasta problema accesul la </em><strong><a href="/monitor?task=trigame">toate sursele trimise</a></strong><em> este liber!</em><br></div>

<p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=trigame">Vezi solutiile trimise</a></p>

<h1>Trigame<br></h1>

<p>Fat-Frumos trebuie sa o salveze pe Ileana Cosanzeana din palatul Zmeului cel Rau. Totusi, Ileana nu vrea sa fie salvata, asa ca se decid sa joace un joc. Daca va castiga, Ileana ramane la Zmeu, altfel va pleca cu Fat-Frumos.</p>

<p>Palatul Zmeului are <var>N</var> camere, unele perechi de camere fiind unite prin coridoare, astfel incat din orice camera se poate ajunge in orice alta camera intr-un mod unic. Initial, luminile sunt aprinse in toate camerele. Cei doi incep jocul in camere diferite, si vor muta alternativ -- acest lucru este posibil, intrucat atat Ileana cat si Fat-Frumos au telefoane mobile. Intr-o mutare, fiecare personaj stinge lumina in camera curenta in care se afla, alege o camera vecina libera in care lumina este aprinsa si se deplaseaza in aceasta. Atat Ileana Cosanzeana cat si Fat-Frumos joaca optim: daca unul dintre ei are o strategie astfel incat sa fie sigur de victorie indiferent de mutarile adversarului, o va urma. Ileana va face prima mutare. Va pierde cel care nu va mai putea efectua nici o mutare, adica lumina este stinsa in toate camerele adiacente camerei in care se afla. Cu alte cuvinte, castigatorul este cel care muta ultimul.</p>

<p>Pentru ca autorul povestii nu mai stie care sunt camerele in care incep celor doua personaje, va trebui sa determinati, luand in considerare toate pozitiile initiale posibile, cate jocuri va castiga Ileana Cosanzeana.</p>

<h2>Date de intrare</h2>

<p>Fisierul de intrare <var>trigame.in</var> contine pe prima linie valoarea lui <var>N</var>. Urmatoarele <var>N</var>-1 linii vor contine cate doua numere naturale diferite <var>a b</var>, cu valori intre <var>1</var> si <var>N</var>, cu semnificatia ca exista un coridor intre camerele <var>a</var> si <var>b</var>. </p>

<h2>Date de iesire</h2>

<p>In fisierul de iesire <var>trigame.out</var> se va scrie un singur numar, reprezentand numarul de jocuri pe care le va castiga Ileana Cosanzeana.</p>

<h2>Restrictii</h2>


<ul><li><var>2 ≤ N ≤ 2048</var></li>
<li>Pentru 40% din datele de test, <var>2 ≤ N ≤ 64</var></li>
<li>Pentru alte 20% din datele de test, <var>2 ≤ N ≤ 256</var></li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>trigame.in</th><th>trigame.out</th></tr><tr><td>5<br>
1 2<br>
2 3<br>
2 4<br>
1 5<br></td><td>12<br></td></tr></table><h3>Explicatie</h3>

<p>Din cele 20 de jocuri posibile, Ileana va castiga 12 jocuri, cele in care pozitiile initiale sunt: (1, 3) (1, 4) (1, 5) (2, 3) (2, 4) (2, 5) (3, 1) (3, 4) (3, 5) (4, 1) (4, 3) (4, 5) -- primul numar din pereche este pozitia Ileanei, al doilea este pozitia lui Fat-Frumos. De exemplu, pentru (3, 5), Ileana se va deplasa in camera 2, Fat-Frumos in camera 1, ultima mutare fiind a Ileanei care va muta in camera 4, castigand jocul.</p>

<div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>



<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>