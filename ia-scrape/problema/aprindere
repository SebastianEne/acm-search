<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>aprindere.in, aprindere.out</td><td><strong>Sursă</strong></td><td>preONI 2007</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=143">Daniel Pasaila</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td><span class="tiny-user"><a href="http://infoarena.ro/utilizator/danielp"><img src="/utilizator/danielp?action=download&amp;file=avatar&amp;resize=L16x16" alt="danielp">Daniel Pasaila</a> <a title="Rating danielp: 532" class="rating-badge-4" href="http://infoarena.ro/utilizator/danielp?action=rating">•</a><span class="username"><a href="http://infoarena.ro/utilizator/danielp">danielp</a></span></span></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>0.2 sec</td><td><strong>Limită de memorie</strong></td><td>16000 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td>N/A</td></tr></table><div class="banner"><img style="vertical-align: middle; float: left;" src="/static/images/open_big.png"><em>Pentru aceasta problema accesul la </em><strong><a href="/monitor?task=aprindere">toate sursele trimise</a></strong><em> este liber!</em><br></div>

<p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=aprindere">Vezi solutiile trimise</a></p>

<h1>Aprindere<br></h1>

<p>Johnie vrea sa sparga o banca, in care seifurile sunt asezate in <var>N</var> camere alaturate. Astfel camerele sunt asezate in ordinea <var>0, 1, 2 ... N - 1</var>. Pentru a putea gasi cifrurile seifurilor, Johnie are nevoie de lumina. El cunoaste initial camerele in care lumina este aprinsa, si in care nu. De asemenea, stie ca in unele camere sunt intrerupatoare care modifica starea unor becuri. Fiind un hot priceput, Johnie a programat intrerupatoarele camerelor astfel incat un intrerupator din camera <var>i</var> ( <var>0 ≤ i ≤ N - 1</var> ) sa modifice atat becul din camera respectiva, cat si eventual unele becuri din camere de dupa <var>i</var>. De asemenea, stie ca pentru fiecare intrerupator i are nevoie de un timp <var>T<sub>i</sub></var> pentru a-l actiona. <br>
Cunoscand numarul de camere, starea lor initiala, configuratia intrerupatoarelor (programate de Johnie) cat si timpul de actionare a acestora se cere sa determinati, daca este posibil, timpul minim in care Johnie poate face lumina in toate camerele.</p>

<h2>Date de intrare</h2>

<p>Pe prima linie a fisierului <var>aprindere.in</var> se gaseste <var>N</var>, numarul de camere si <var>M</var>, numarul de intrerupatoare. Pe urmatoarea linie gasim <var>N</var> cifre de <var>0</var> sau <var>1</var>, <var>0</var> reprezentand o camera in care lumina este inchisa iar <var>1</var> o camera in care lumina e deschisa. Pe urmatoarele <var>M</var> linii gasim mai intai <var>3</var> numere <var>C</var>, <var>T<sub>C</sub></var> si <var>NR<sub>C</sub></var>, reprezentand camera intrerupatorului, timpul necesar actionarii intrerupatorului respectiv si numarul de camere in care modifica starea becurilor. Urmeaza apoi <var>NR<sub>C</sub></var> numere reprezentand indicii camerelor in care becurile sunt schimbate de intrerupatorul curent (camera <var>i</var> se va afla mereu in aceasta multime).</p>

<h2>Date de iesire</h2>

<p>In fisierul <var>aprindere.out</var> se gaseste un singur numar, cu semnificatia de mai sus.</p>

<h2>Restrictii</h2>


<ul><li>  <var>1 ≤ N ≤ 1000</var></li>
<li>  <var>1 ≤ M ≤ N</var></li>
<li>  <var>1 ≤ NR<sub>i</sub> ≤ 100</var></li>
<li>  <var>1 ≤ T<sub>i</sub> ≤ 1000</var></li>
<li>  Intr-o camera poate exista maxim un intrerupator</li>
<li>  Pentru datele de test folosite va exista mereu solutie</li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>aprindere.in</th><th>aprindere.out</th></tr><tr><td>5 4<br>
0 1 0 0 1<br>
0 3 2 0 2<br>
1 3 2 1 2<br>
3 1 2 3 4<br>
4 2 1 4<br></td><td>6</td></tr></table><h3>Explicatie</h3>

<p>Se actioneaza intrerupatoarele din camerele <var>0</var>, <var>3</var> si <var>4</var>. Timpul total este <var>3 + 1 + 2 = 6</var>.</p>

<div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>



<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>