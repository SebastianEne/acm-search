<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>emax.in, emax.out</td><td><strong>Sursă</strong></td><td>Lot Suceava 2007</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=250">Mircea Bogdan Pasoi</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td><span class="tiny-user"><a href="http://infoarena.ro/utilizator/bogdan2412"><img src="/utilizator/bogdan2412?action=download&amp;file=avatar&amp;resize=L16x16" alt="bogdan2412">Bogdan-Cristian Tataroiu</a> <a title="Rating bogdan2412: 1162" class="rating-badge-4" href="http://infoarena.ro/utilizator/bogdan2412?action=rating">•</a><span class="username"><a href="http://infoarena.ro/utilizator/bogdan2412">bogdan2412</a></span></span></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>0.1 sec</td><td><strong>Limită de memorie</strong></td><td>16384 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td>N/A</td></tr></table><p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=emax">Vezi solutiile trimise</a></p>

<h1>Emax<br></h1>

<p>Zaharel a devenit pasionat de expresii aritmetice. A scris un sir de <var>N</var> numere intregi pe o foaie de hartie si se intreaba care este expresia de valoare maxima pe care o poate forma cu aceste numere. El va construi o expresie respectand urmatoarele restrictii:</p>


<ol><li>Ordinea in care apar numerele in sir este aceeasi cu ordinea in care vor aparea in expresie.</li>
<li>Se pot folosi paranteze rotunde si operatorii <code>+, -, *</code> care vor reprezenta operatiile de adunare, scadere si inmultire. Se considera ca <var>+</var> si <var>-</var> au aceeasi prioritate, iar <var>*</var> are cea mai mare prioritate.</li>
<li>Operatorii trebuie inserati inaintea oricarui element din sir (mai putin inaintea primului element unde, dupa necesitati, poate fi introdus doar operatorul <var>-</var>), dar nu este permisa inserarea a doi operatori inaintea aceluiasi element.</li>
<li>Parantezele pot fi aplicate oriunde, respectand conditia ca expresia rezultata sa fie corecta din punct de vedere matematic.</li>
</ol><h2>Cerinta</h2>

<p>Scrieti un program pentru Zaharel care sa determine valoarea maxima a unei expresii pe care o poate construi cu cele <var>N</var> numere din sir.</p>

<h2>Date de intrare</h2>

<p>Fisierul de intrare <var>emax.in</var> contine pe prima linie numarul natural <var>N</var>. Pe cea de a doua linie se afla <var>N</var> numere intregi separate prin cate un spatiu reprezentand valorile din sir.</p>

<h2>Date de iesire</h2>

<p>Fisierul de iesire <var>emax.out</var> va contine un singur numar intreg reprezentand valoarea maxima a unei expresii care se poate construi cu cele <var>N</var> numere din sir, modulo <var>666013</var>.</p>

<h2>Restrictii</h2>


<ul><li><var>1 ≤ N ≤ 100 000</var></li>
<li>Valorile din sir sunt numere intregi din intervalul <var>[-100, 100]</var></li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>emax.in</th><th>emax.out</th></tr><tr><td>4<br>
 -1 1 -9 6</td><td>108</td></tr></table><h3>Explicatie</h3>

<p><var>(-1 - 1) * (-9) * 6 = 108</var></p>

<div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>



<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>