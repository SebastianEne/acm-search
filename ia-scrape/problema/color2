<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>color2.in, color2.out</td><td><strong>Sursă</strong></td><td>ONI 2004</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=136">Mugurel Ionut Andreica</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>0.1 sec</td><td><strong>Limită de memorie</strong></td><td>65536 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td><span class="star-rating"><img src="http://infoarena.ro/static/images/stars/normal-full.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-full.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-full.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-empty.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-empty.png" alt="normal"><div class="hidden">3/5</div></span></td></tr></table><p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=color2">Vezi solutiile trimise</a></p>

<h1>Color2<br></h1>

<p>Ion si Vasile joaca un joc. Ei au la dispozitie un arbore binar strict (adica fiecare nod are <var>0</var> sau <var>2</var> fii) cu <var>N</var> noduri, numerotate de la <var>1</var> la <var>N</var> (nodul numerotat cu <var>1</var> este radacina arborelui). Initial, toate nodurile sunt colorate in alb. Jucatorii vor efectua mutari alternativ, iar jucatorul aflat la mutare va colora in negru un nod colorat in alb. Ion efectueaza prima mutare si poate colora in negru orice nod al arborelui. Considerand ca ultimul nod colorat de unul dintre jucatori este <var>P</var>, jucatorul care urmeaza la mutare poate colora in negru unul din urmatoarele noduri (daca nu au fost deja colorate in negru):</p>


<ul><li>unul din cei doi fii ai lui <var>P</var> (daca <var>P</var> nu este frunza in arbore)</li>
<li>tatal lui <var>P</var> (daca <var>P</var> nu este radacina arborelui)</li>
</ul><p>Jocul continua pana cand unul dintre jucatori nu mai poate efectua nici o mutare. Atunci, jucatorul care a efectuat ultima mutare este considerat castigator.</p>

<h2>Cerinta</h2>

<p>Considerand ca ambii jucatori joaca optim, determinati toate nodurile din arbore pe care le poate colora Ion la prima mutare, astfel incat sa fie sigur de victorie.</p>

<h2>Date de Intrare</h2>

<p>Prima linie a fisierului <var>color2.in</var> contine numarul intreg <var>N</var>, reprezentand numarul de noduri din arbore. Urmatoarele <var>N-1</var> linii contin cate doua numere intregi separate printr-un spatiu, <var>a</var> si <var>b</var>, avand semnificatia ca <var>a</var> este tatal lui <var>b</var>.</p>

<h2>Date de Iesire</h2>

<p>Pe prima linie a fisierului <var>color2.out</var> veti afisa numarul intreg <var>M</var>, reprezentand numarul de noduri pe care le poate colora Ion la prima mutare, astfel incat sa fie sigur de victorie. Pe urmatoarea linie veti afisa numerele acestor noduri, in ordine crescatoare.</p>

<h2>Restrictii si precizari</h2>


<ul><li><var>1 ≤ N ≤ 16 000</var>, <var>N</var> impar</li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>color2.in</th><th>color2.out</th></tr><tr><td>9<br>
1 2<br>
1 3<br>
2 4<br>
2 5<br>
4 6<br>
4 7<br>
3 8<br>
3 9<br></td><td>6<br>
1 5 6 7 8 9</td></tr></table><div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>

<div id="task_tags"><h3> Indicii de rezolvare</h3><a id="show_tags" href="javascript:show_tags()">
                Arată 2 categorii</a><ul id="task_tags"><li style="display: none;" class="tags_list_item">
            <span class="tag_name color_scheme_4"><a class="tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=46">Grafuri</a></span>
            <a href="javascript:show_tag_list(46)" id="tag_anchor_46" class="show_tag_anchor">
                ... 1 tag
            </a>
            <div style="display: none;" id="tag_list_46"> 
                <div class="sub_tag_name"><a class="sub_tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=69">Parcurgere in adancime</a></div>
            </div>
        </li>
        <li style="display: none;" class="tags_list_item">
            <span class="tag_name color_scheme_4"><a class="tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=58">Programare dinamica</a></span>
            <a href="javascript:show_tag_list(58)" id="tag_anchor_58" class="show_tag_anchor">
                ... 1 tag
            </a>
            <div style="display: none;" id="tag_list_58"> 
                <div class="sub_tag_name"><a class="sub_tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=71">Dinamica pe arbore</a></div>
            </div>
        </li></ul></div>

<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>