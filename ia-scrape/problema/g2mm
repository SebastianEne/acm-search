<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>g2mm.in, g2mm.out</td><td><strong>Sursă</strong></td><td>Selectie echipe ACM ICPC, UPB 2008</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=136">Mugurel Ionut Andreica</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td><span class="tiny-user"><a href="http://infoarena.ro/utilizator/mugurelionut"><img src="/utilizator/mugurelionut?action=download&amp;file=avatar&amp;resize=L16x16" alt="mugurelionut">Mugurel Ionut Andreica</a> <a title="Rating mugurelionut: 884" class="rating-badge-1" href="http://infoarena.ro/utilizator/mugurelionut?action=rating">•</a><span class="username"><a href="http://infoarena.ro/utilizator/mugurelionut">mugurelionut</a></span></span></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>0.7 sec</td><td><strong>Limită de memorie</strong></td><td>16384 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td>N/A</td></tr></table><p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=g2mm">Vezi solutiile trimise</a></p>

<h1>G2mm<br></h1>

<p>Se da un graf conex si neorientat <var>G</var>, avand <var>N</var> noduri si <var>M</var> muchii. Distanta dintre doua noduri <var>x</var> si <var>y</var> ale unui graf <var>G</var>, <var>dist<sub>G</sub>(x,y)</var> se defineste ca fiind numarul minim de muchii ce trebuie traversate pentru a ajunge de la un nod la celalalt. Patratul unui graf <var>G</var> (notat cu <var>G<sup>2</sup></var>) se defineste in felul urmator:</p>


<ul><li>are aceleasi noduri ca si graful <var>G</var></li>
<li>are muchie intre doua noduri <var>x</var> si <var>y</var>, numai daca <var>dist<sub>G</sub>(x,y) ≤ 2</var> (distanta dintre nodurile <var>x</var> si <var>y</var> este cel mult <var>2</var>, in graful <var>G</var>)</li>
</ul><p>Determinati, daca exista, un cuplaj perfect in <var>G<sup>2</sup></var>. Un cuplaj perfect intr-un graf <var>H</var> consta din <var>N/2</var> muchii, astfel incat fiecare din cele <var>N</var> noduri ale lui <var>H</var> apare ca unul din cele <var>2</var> capete ale exact unei singure muchii din cadrul cuplajului.</p>

<h2>Date de intrare</h2>

<p>Prima linie a fisierului de intrare <var>g2mm.in</var> contine numerele intregi <var>N</var> si <var>M</var>, separate printr-un spatiu. Urmatoarele <var>M</var> linii contin cate <var>2</var> numere intregi <var>x</var> si <var>y</var>, separate printr-un spatiu, reprezentand doua noduri din graf care sunt conectate printr-o muchie. Nodurile grafului sunt numerotate de la <var>1</var> la <var>N</var>.</p>


<h2>Date de iesire</h2>

<p>Prima linie a fisierului de iesire <var>g2mm.out</var> va contine numarul intreg <var>A</var>, avand valoarea <var>1</var>, daca exista un cuplaj perfect in patratul grafului dat, sau <var>0</var>, in caz contrar. Daca <var>A=1</var>, atunci urmatoarele <var>N/2</var> linii vor contine cate <var>2</var> numere intregi <var>x</var> si <var>y</var>, descriind cate o muchie a cuplajului perfect gasit.</p>

<h2>Restrictii</h2>


<ul><li><var>1 ≤ N ≤ 30.000</var>, <var>N</var> par</li>
<li><var>N-1 ≤ M ≤ 200.000</var></li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>g2mm.in</th><th>g2mm.out</th></tr><tr><td>8 11<br>
1 3<br>
2 3<br>
3 5<br>
5 4<br>
4 8<br>
8 6<br>
6 1<br>
7 8<br>
7 6<br>
3 7<br>
5 6<br></td><td>1<br>
5 4<br>
6 8<br>
2 7<br>
1 3<br></td></tr></table><div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>



<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>