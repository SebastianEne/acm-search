<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>felinare.in, felinare.out</td><td><strong>Sursă</strong></td><td>ONI 2007, clasele 11-12</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=152">Tiberiu-Lucian Florea</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td><span class="tiny-user"><a href="http://infoarena.ro/utilizator/DITzoneC"><img src="/utilizator/DITzoneC?action=download&amp;file=avatar&amp;resize=L16x16" alt="DITzoneC">Adrian Diaconu</a> <a title="Rating DITzoneC: 596" class="rating-badge-4" href="http://infoarena.ro/utilizator/DITzoneC?action=rating">•</a><span class="username"><a href="http://infoarena.ro/utilizator/DITzoneC">DITzoneC</a></span></span></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>0.1 sec</td><td><strong>Limită de memorie</strong></td><td>32768 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td>N/A</td></tr></table><div class="banner"><img style="vertical-align: middle; float: left;" src="/static/images/open_big.png"><em>Pentru aceasta problema accesul la </em><strong><a href="/monitor?task=felinare">toate sursele trimise</a></strong><em> este liber!</em><br></div>

<p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=felinare">Vezi solutiile trimise</a></p>

<h1>Felinare<br></h1>

<p>A venit timpul Anarhiei in Orasul Trist! Ca revolta impotriva manifestarilor subculturale, vrei sa pui Orasul pe butuci. In urma unei descinderi ilegale la Primarie, ai "imprumutat" o harta si ti-ai dat seama ca exista <var>M</var> strazi unidirectionale intre cele <var>N</var> intersectii ale Orasului Trist. Fiecare intersectie are cate doua felinare. Primul lumineaza o jumatate din fiecare strada care pleaca din intersectia respectiva, iar al doilea lumineaza jumatate din fiecare strada care intra in intersectie. De exemplu, prima jumatate a strazii dintre intersectiile <var>A</var> si <var>B</var> este luminata de primul felinar din intersectia <var>A</var>, iar cea de-a doua jumatate este luminata de al doilea felinar din intersectia <var>B</var>. Un felinar stins nu lumineaza deloc. O strada este <var>sigura</var> doar atunci cand e luminata <var>in totalitate</var>.</p>

<h2>Cerinta</h2>

<p>In primul rand, trebuie sa te asiguri ca nicio strada nu va fi complet luminata, astfel incat siguranta cetatenilor sa fie redusa la minim. Dar acest obiectiv nu te multumeste, asa ca in plus iti doresti un numar maxim de felinare aprinse, pentru a da o grea lovitura bugetului Primariei din Orasul Trist. Odata indeplinite aceste conditii, Revolutia poate incepe.</p>

<h2>Date de intrare</h2>

<p>Fisierul de intrare <var>felinare.in</var> contine pe prima linie doua numere naturale strict pozitive <var>N</var> si <var>M</var>, reprezentand numarul de intersectii si numarul de strazi din Orasul Trist. Pe fiecare din urmatoarele linii se afla o pereche de numere naturale <var>A</var> si <var>B</var> cuprinse intre <var>1</var> si <var>N</var> reprezentand o strada care pleaca din intersectia <var>A</var> si ajunge in intersectia <var>B</var>.</p>

<h2>Date de iesire</h2>

<p>Fisierul de iesire <var>felinare.out</var> va contine pe prima linie un singur numar natural reprezentand numarul maxim de felinare ce pot fi aprinse. Pe urmatoarele <var>N</var> linii se vor afla numere cuprinse intre <var>0</var> si <var>3</var>, cu semnificatia urmatoare:</p>


<ul><li><var>0</var> : ambele felinare din intersectie sunt stinse;</li>
<li><var>1</var> : numai primul dintre felinarele din intersectie este aprins;</li>
<li><var>2</var> : numai al doilea dintre felinarele din intersectie este aprins;</li>
<li><var>3</var> : ambele felinare din intersectie sunt aprinse.</li>
</ul><h2>Restrictii</h2>


<ul><li><var>1 ≤ N ≤ 8191</var></li>
<li><var>1 ≤ M ≤ 20 000</var></li>
<li>Nu exista strazi care sa uneasca o intersectie cu ea insasi.</li>
<li>Pentru determinarea numarului maxim de felinare se acorda <var>40%</var> din punctaj. </li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>felinare.in</th><th>felinare.out</th></tr><tr><td>4 4<br>
1 2<br>
4 1<br>
4 2<br>
4 3<br></td><td>6<br>
2<br>
3<br>
3<br>
2<br></td></tr></table><div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>



<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>