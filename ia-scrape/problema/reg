<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>reg.in, reg.out</td><td><strong>Sursă</strong></td><td>Stelele Informaticii 2005, clasele 11-12</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=119">Silviu-Ionut Ganceanu</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>5 sec</td><td><strong>Limită de memorie</strong></td><td>7168 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td><span class="star-rating"><img src="http://infoarena.ro/static/images/stars/normal-full.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-full.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-full.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-full.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-full.png" alt="normal"><div class="hidden">5/5</div></span></td></tr></table><p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=reg">Vezi solutiile trimise</a></p>

<h1>Reg<br></h1>


<p>Algostorm a inceput sa programeze satelitii intergalactici intr-un limbaj de programare denumit SuperP++ . Un program in SuperP++ consta dintr-o serie de instructiuni (numele acestor instructiuni sunt niste numere intregi) care trebuiesc executate in ordine. Pentru a fi executata, o instructiune trebuie citita din registri (acestia sunt in numar de <var>K</var> si fiecare registru poate retine cel mult o instructiune la un moment dat). Daca o instructiune nu exista in registri, aceasta trebuie incarcata inainte de a fi executata. O instructiune poate fi incarcata intr-un registru gol sau intr-un registru folosit caz in care instructiunea curenta este stearsa din registru (pentru eliberarea acestuia). Odata stearsa, o instructiune nu mai poate fi incarcata in nici un registru si la intalnirea ei in executarea programului acesta se intrerupe.</p>

<h2>Cerinta</h2>

<p>Algostorm a scris un program compus din <var>N</var> instructiuni. Stiind numarul de registri, <var>K</var>, aflati care este numarul maxim de instructiuni din programul lui Algostorm care pot fi executate pana la intreruperea lui, respectand regulile de incarcare si citire.</p>

<h2>Date de intrare</h2>

<p>In fisierul <var>reg.in</var> se afla pe prima linie un numar <var>T</var> reprezentand numarul de teste care vor urma. Pe urmatoarele <var>T</var> linii se afla cate <var>5</var> numere: <var>A</var>, <var>B</var>, <var>C</var>, <var>N</var>, <var>K</var>. Programul lui Algostorm va fi descris de urmatoarele relatii (<var>X<sub>i</sub></var> fiind instructiunea cu numarul <var>i</var>, <var>i = 1..N</var>)</p>

<p><var>X<sub>1</sub> = 1</var>, <var>X<sub>i</sub> = (X<sub>i-1</sub> * A + B * i)</var> mod <var>C</var> pentru <var>i = 2..N</var></p>

<h2>Date de iesire</h2>

<p>Fisierul de iesire <var>reg.out</var> va contine <var>T</var> linii: pentru fiecare test se va afisa pe cate o linie numarul maxim de instructiuni din programul lui Algostorm care pot fi executate utilizand exact <var>K</var> registri.</p>

<h2>Restrictii si precizari</h2>


<ul><li><var>1 ≤ N ≤ 2 000 000</var></li>
<li><var>1 ≤ T ≤ 10</var></li>
<li><var>1 ≤ A, B, C, K ≤ 500 000</var></li>
<li>C este mereu prim</li>
<li>Suma numarului de instructiuni ale tuturor programelor dintr-un fisier de intrare nu va depasi <var>4 000 000</var></li>
<li>Pentru <var>70%</var> din fisierele de intrare <var>N ≤ 400 000</var></li>
<li>Instructiunile se vor executa in ordine, de la <var>1</var> catre <var>N</var></li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>reg.in</th><th>reg.out</th></tr><tr><td>2<br>
1 1 7 5 1<br>
2 3 5 8 2<br></td><td>3<br>
6</td></tr></table><div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>



<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>