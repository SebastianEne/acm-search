<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>arbore2.in, arbore2.out</td><td><strong>Sursă</strong></td><td>Stelele Informaticii 2003, clasele 11-12</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=127">Mihai Stroe</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td><span class="tiny-user"><a href="http://infoarena.ro/utilizator/astronomy"><img src="/utilizator/astronomy?action=download&amp;file=avatar&amp;resize=L16x16" alt="astronomy">Airinei Adrian</a> <a title="Rating astronomy: 700" class="rating-badge-4" href="http://infoarena.ro/utilizator/astronomy?action=rating">•</a><span class="username"><a href="http://infoarena.ro/utilizator/astronomy">astronomy</a></span></span></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>0.1 sec</td><td><strong>Limită de memorie</strong></td><td>16384 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td>N/A</td></tr></table><p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=arbore2">Vezi solutiile trimise</a></p>

<h1>Arbore2<br></h1>

<p>Am doi copaci, reprezentati prin doi arbori binari cu <var>M</var>, respectiv <var>N</var> noduri. In fiecare nod al unui astfel de arbore cresc flori (cel putin <var>0</var>, cel mult <var>10</var>). Ordinea fiilor conteaza (se face distinctie intre fiul stang si fiul drept). Doi arbori binari cu flori in noduri sunt similari daca (definitie recursiva):</p>


<ul><li>au ambii <var>0</var> noduri <span class="caps">SAU</span></li>
<li>au ambii cel putin un nod, acelasi numar de flori in radacina, subarborii stangi sunt similari si subarborii drepti sunt similari.</li>
</ul><p>Vreau sa transform cei doi arbori dati in <var>2</var> arbori similari (conform definitiei de mai sus) cu exact <var>K</var> (<var>0 ≤ K ≤ 100</var>) flori fiecare, avand aceleasi radacini cu arborii initiali. Pentru a-mi atinge scopul pot sa fac <var>2</var> tipuri de operatii:</p>


<ul><li>tai o craca (elimin un subarbore dintr-unul din cei doi arbori)</li>
<li>rup o floare (scad cu <var>1</var> numarul de flori din unul din nodurile unuia din arbori)</li>
</ul><p>Deoarece vreau sa muncesc cat mai putin pentru a-mi atinge scopul, doresc sa tai cat mai putine craci si, daca am mai multe variante de a taia cat mai putine craci, sa aleg una in care sa rup cat mai putine flori. </p>

<h2>Cerinta</h2>

<p>Scrieti un program care sa ma ajute!</p>

<h2>Date de intrare</h2>

<p>Fisierul <var>arbore2.in</var> contine pe prima linie numarul <var>K</var> de flori dorit. Urmeaza cei <var>2</var> arbori, unul dupa altul. Un arbore se da prin numarul de noduri <var>NR</var> (<var>1 ≤ NR ≤ 100</var>). Urmeaza <var>NR</var> linii, fiecare continand informatia pentru un nod: numarul de flori <var>F</var> (<var>0 ≤ F ≤ 10</var>), numarul fiului stang (sau <var>0</var> daca acesta nu exista) si numarul fiului drept (sau <var>0</var> daca acesta nu exista). Arborii sunt valizi (contin numerele de la <var>1</var> la <var>NR</var>, nu au cicluri etc.) si au amandoi radacina in nodul <var>1</var>.</p>

<h2>Date de iesire</h2>

<p>In fisierul <var>arbore2.out</var> veti afisa pe prima linie numarul <var>T</var> de taieri de craci si numarul <var>R</var> de ruperi de flori din solutia optima. Pe urmatoarele <var>T</var> linii veti afisa taierile de craci. Taierea unei craci se da prin doua numere <var><span class="caps">ARB</span></var> si <var><span class="caps">NOD</span></var>; asta inseamna ca am taiat craca din arborele <var><span class="caps">ARB</span></var> (<var>1</var> sau <var>2</var>), care lega nodul <var><span class="caps">NOD</span></var> de tatal lui. Pe urmatoarele <var>R</var> linii veti afisa ruperile de flori. Ruperea unei flori se da prin doua numere <var><span class="caps">ARB</span></var> si <var><span class="caps">NOD</span></var>; asta inseamna ca am rupt o floare din nodul <var><span class="caps">NOD</span></var> al arborelui <var><span class="caps">ARB</span></var>. Numerele de pe fiecare linie se vor separa printr-un spatiu. Daca exista mai multe solutii optime, afisati una oarecare. Toate testele date vor avea cel putin o solutie.</p>

<h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>arbore2.in</th><th>arbore2.out</th></tr><tr><td>7						<br>
  3						<br>
  5 2 3						<br>
  2 0 0						<br>
  1 0 0						<br>
  3						<br>
  6 2 0						<br>
  6 0 3						<br>
  5 0 0<br></td><td>2 5<br>
  1 3				<br>
  2 3<br>
  2 1				<br>
  2 2<br>
  2 2<br>
  2 2<br>
  2 2<br></td></tr></table><div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>



<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>