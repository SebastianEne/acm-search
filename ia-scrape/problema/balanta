<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>balanta.in, balanta.out</td><td><strong>Sursă</strong></td><td>preONI 2007, runda 3</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=124">Adrian Vladu</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td><span class="tiny-user"><a href="http://infoarena.ro/utilizator/azotlichid"><img src="/utilizator/azotlichid?action=download&amp;file=avatar&amp;resize=L16x16" alt="azotlichid">Adrian Vladu</a> <a title="Rating azotlichid: 631" class="rating-badge-4" href="http://infoarena.ro/utilizator/azotlichid?action=rating">•</a><span class="username"><a href="http://infoarena.ro/utilizator/azotlichid">azotlichid</a></span></span></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>0.1 sec</td><td><strong>Limită de memorie</strong></td><td>65536 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td>N/A</td></tr></table><div class="banner"><img style="vertical-align: middle; float: left;" src="/static/images/open_big.png"><em>Pentru aceasta problema accesul la </em><strong><a href="/monitor?task=balanta">toate sursele trimise</a></strong><em> este liber!</em><br></div>

<p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=balanta">Vezi solutiile trimise</a></p>

<h1>Balanta<br></h1>

<p>Chernel Camatarul are probleme. A primit de la un client <var>N</var> monede identice presupuse a fi din aur, dar el banuieste ca exact una dintre acestea este falsa. Chernel stie ca moneda falsa este ori mai grea, ori mai usoara decat cele din aur, toate celelalte avand mase egale. Pentru a verifica, el foloseste o balanta cu ajutorul careia executa <var>M</var> cantariri. La fiecare cantarire pune un numar egal de monede pe cele doua talere si isi noteaza rezultatul. Din pacate, Chernel actioneaza destul de haotic, iar la final nu stie daca in urma cantaririlor poate determina cu precizie moneda falsa. </p>

<p>Ajutati-l sa afle raspunsul!</p>

<h2>Date de intrare</h2>

<p>De pe prima linie a fisierului de intrare se citesc doua numere intregi <var>N</var> si <var>M</var>. Urmeaza <var>M</var> linii, fiecare fiind descrisa in felul urmator: un numar <var>k</var>, reprezentand numarul de monede asezat pe fiecare din cele doua talere ale balantei, <var>k</var> numere intregi intre <var>1</var> si <var>N</var> reprezentand monedele asezate pe talerul stang, alte <var>k</var> numere intregi intre <var>1</var> si <var>N</var> reprezentand monedele asezate pe talerul drept, alaturi de un numar <var>r</var> din multimea <var>{0, 1, 2}</var>. <var>r</var> indica rezultatul cantaririi, acesta fiind <var>0</var> daca balanta ramane in echilibru, <var>1</var> daca talerul stang este mai greu decat cel drept, respectiv <var>2</var> daca talerul drept este mai greu decat cel stang.</p>

<h2>Date de iesire</h2>

<p>Prima linie a fisierului de iesire contine un numar intreg intre <var>1</var> si <var>N</var>, reprezentand moneda falsa in cazul in care aceasta se poate determina cu precizie, respectiv <var>0</var> in cazul in care cantaririle lui Chernel nu au fost suficiente pentru a gasi moneda respectiva.</p>

<h2>Restrictii</h2>


<ul><li><var>1 ≤ N, M ≤ 1024</var></li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>balanta.in</th><th>balanta.out</th></tr><tr><td>8 3<br>
4 1 2 3 4 5 6 7 8 1<br>
1 1 2 0<br>
1 3 4 2</td><td>4</td></tr><tr><td>4 2 <br>
2 1 2 3 4 2<br>
1 2 3 2<br></td><td><var>0</var></td></tr></table><p> </p>

<div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>



<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>