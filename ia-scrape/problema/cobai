<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>cobai.in, cobai.out</td><td><strong>Sursă</strong></td><td>info-arena 1.0</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=129">Horatiu Cristurean</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>0.1 sec</td><td><strong>Limită de memorie</strong></td><td>65536 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td><span class="star-rating"><img src="http://infoarena.ro/static/images/stars/normal-full.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-full.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-empty.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-empty.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-empty.png" alt="normal"><div class="hidden">2/5</div></span></td></tr></table><p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=cobai">Vezi solutiile trimise</a></p>

<h1>Cobai<br></h1>

<p>Diorde, cel mai tare biolog din Tritenii de Jos, lucreaza la crearea unui elixir care sa-i faca pe consatenii sai mai inteligenti. El testeaza acest elixir pe Miki, singurul om din sat care s-a oferit voluntar. Pentru a vedea cat de inteligent este acesta, Diorde a construit un caroiaj dreptunghiular, caroiaj de <var>M*N</var> camere. Din fiecare camera sunt cel mult <var>4</var> usi, orientate inspre Nord, Sud, Est si Vest. In unele camere nu se poate intra, ele fiind inchise. Diorde are un cobai mult mai istet decat multi dintre sateni, cobai caruia ii da drumul dintr-o camera pe care o va inchide dupa aceea, si-l va lasa sa se miste in voie o perioada de timp. Cobaiul este dotat cu un dispozitiv care transmite tot timpul un semnal, care ne spune directia in care se deplaseaza cobaiul. Acest aparat detecteaza doar schimbarile de directie ale cobaiului. Dupa schimbarea unei directii cobaiul se deplaseaza cu cel putin o pozitie in acea directie, si modificarile de directie au loc intotdeauna cu <var>90</var> de grade.</p>

<p>Ce trebuie sa faca Miki pentru a dovedi ca este mai inteligent? Avand in mana harta caroiajului (cu <var>.</var> vor fi marcate camerele deschise iar cu <var>+</var> camerele inchise), si stiind pozitia din care a plecat cobaiul (marcata cu <var>*</var>), precum si directiile in care s-a deplasat acesta, trebuie sa determine o pozitie posibila in care se poate afla cobaiul la sfarsitul acelui interval de timp.</p>

<p>Voi trebuie sa calculati probabilitatea ca Miki sa ghiceasca o pozitie, in care cobaiul poate fi.</p>

<h2>Date de Intrare</h2>

<p>Prima linie a fisierului de intrare contine numerele <var>M</var> si <var>N</var>, separate printr-un singur spatiu. Urmatoarele <var>M</var> linii contin cate <var>N</var> caractere care descriu suprafata planetei (caracterele admise apartin multimii {"." , "+" , "*"} si au semnificatia prezentata anterior). Urmatoarea linie va descrie informatiile furnizate de dispozitivul de urmarire, neseparate prin spatii. Litera <var>N</var> indica o deplasare spre nord (spre prima linie a matricei), litera <var>V</var> o deplasare spre vest (spre prima coloana), litera <var>S</var> o deplasare spre sud (spre ultima linie), iar litera <var>E</var> o deplasare spre est (spre ultima coloana).</p>

<h2>Date de Iesire</h2>

<p>Fisierul de iesire va contine un singur numar care va indica procentul cautat. Numarul va fi real cu <var>2</var> zecimale, nerotunjit.</p>

<h2>Restrictii</h2>


<ul><li><var>1 ≤ <span class="caps">N,M </span>≤ 50</var></li>
<li>Numarul schimbarilor de directie este cel mult <var>1.000</var></li>
<li>Cobaiul nu poate parasi caroiajul</li>
</ul><h2>Exemplu</h2>


<table class="example" cellspacing="0"><tr><th>cobai.in</th><th>cobai.out</th></tr><tr><td>4 5<br>
.....<br>
.+.+.<br>
+....<br>
.++.*<br><span class="caps">NVS</span><br></td><td>28.57</td></tr></table><h3>Explicatie</h3>

<p>Caroiajul contine <var>14</var> camere in care se poate intra ( cele notate cu <var>.</var> ). Deplasandu-se in directiile <var>N</var>, urmat de <var>V</var>, apoi de <var>S</var> el nu se mai poate afla decat in alte <var>4</var> camere. Rezulta un procent de <var>28,57 %</var>.</p>

<div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>

<div id="task_tags"><h3> Indicii de rezolvare</h3><a id="show_tags" href="javascript:show_tags()">
                Arată 3 categorii</a><ul id="task_tags"><li style="display: none;" class="tags_list_item">
            <span class="tag_name color_scheme_4"><a class="tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=46">Grafuri</a></span>
            <a href="javascript:show_tag_list(46)" id="tag_anchor_46" class="show_tag_anchor">
                ... 1 tag
            </a>
            <div style="display: none;" id="tag_list_46"> 
                <div class="sub_tag_name"><a class="sub_tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=47">Parcurgere in latime</a></div>
            </div>
        </li>
        <li style="display: none;" class="tags_list_item">
            <span class="tag_name color_scheme_4"><a class="tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=40">Matematica</a></span>
            <a href="javascript:show_tag_list(40)" id="tag_anchor_40" class="show_tag_anchor">
                ... 1 tag
            </a>
            <div style="display: none;" id="tag_list_40"> 
                <div class="sub_tag_name"><a class="sub_tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=349">Probabilitati</a></div>
            </div>
        </li>
        <li style="display: none;" class="tags_list_item">
            <span class="tag_name color_scheme_4"><a class="tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=58">Programare dinamica</a></span>
            <a href="javascript:show_tag_list(58)" id="tag_anchor_58" class="show_tag_anchor">
                ... 1 tag
            </a>
            <div style="display: none;" id="tag_list_58"> 
                <div class="sub_tag_name"><a class="sub_tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=68">ad-hoc</a></div>
            </div>
        </li></ul></div>

<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>