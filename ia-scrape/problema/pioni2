<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>pioni2.in, pioni2.out</td><td><strong>Sursă</strong></td><td>.campion 2008, Runda 13</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=250">Mircea Bogdan Pasoi</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td><span class="tiny-user"><a href="http://infoarena.ro/utilizator/domino"><img src="/utilizator/domino?action=download&amp;file=avatar&amp;resize=L16x16" alt="domino">Mircea Pasoi</a> <a title="Rating domino: 679" class="rating-badge-4" href="http://infoarena.ro/utilizator/domino?action=rating">•</a><span class="username"><a href="http://infoarena.ro/utilizator/domino">domino</a></span></span></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>0.2 sec</td><td><strong>Limită de memorie</strong></td><td>16384 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td>N/A</td></tr></table><p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=pioni2">Vezi solutiile trimise</a></p>

<h1>Pioni 2<br></h1>

<p>Nargy si Fumeanu joaca un joc pe un graf orientat fara circuite cu <var>N</var> noduri (numerotate de la <var>1</var> la <var>N</var>) si <var>M</var> arce. In acest graf exista <var>K</var> pioni plasati in noduri. Fiecare jucator trebuie sa mute, cand ii vine randul, toti pionii care se pot muta din nodurile in care se afla in noduri adiacente. Mai exact, un pion situat in nodul <var>x</var> poate fi mutat in nodul <var>y</var>, daca exista arc de la <var>x</var> la <var>y</var>.<br>
Cel care nu mai poate muta nici un pion atunci cand ii vine randul pierde partida. La inceputul unui joc, prima mutare o face jucatorul Nargy.<br>
Dandu-se mai multe configuratii de pioni, sa se determine cine castiga jocul, daca ambii jucatori joaca optim. </p>

<h2>Date de intrare</h2>

<p>Fisierul de intrare <var>pioni2.in</var> contine pe prima linie <var>3</var> numere naturale <var>T N M</var>. Urmatoarele <var>M</var> linii vor contine cate doua numere naturale <var>a b</var> cu semnificatia ca exista arc de la <var>a</var> la <var>b</var>. Urmatoarele <var>T</var> linii vor descrie configuratii de pioni astfel: primul numar de pe linie va fi <var>K</var> si va fi urmat de <var>K</var> numere naturale reprezentand nodurile in care se afla pioni. Numerele de pe aceeasi linie sunt separate prin spatii.</p>

<h2>Date de iesire</h2>

<p>Fisierul de iesire pioni.out va contine <var>T</var> linii, cate o linie pentru fiecare configuratie de pioni din fisierul de intrare. Pe linia <var>i</var> se va scrie numele jucatorului care castiga (Nargy sau Fumeanu) pentru a <var>i</var>-a configuratie de pioni din fisierul de intrare.</p>

<h2>Restrictii</h2>


<ul><li><var>1 ≤ T ≤ 5</var></li>
<li><var>1 ≤ N ≤ 20 000</var></li>
<li><var>1 ≤ M ≤ 50 000</var></li>
<li><var>1 ≤ K ≤ 30 000</var></li>
<li>Pot exista mai multi pioni in acelasi nod.</li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>pioni2.in</th><th>pioni2.out</th></tr><tr><td>2 4 3<br>
2 1<br>
3 1<br>
4 3<br>
3 2 2 3<br>
2 1 4<br></td><td>Nargy<br>
Fumeanu<br></td></tr></table><h3>Explicatie</h3>

<p>1. Conform regulilor jocului Nargy trebuie sa mute cu toti cei 3 pioni, iar singura posibilitate este sa-i mute pe toti in 1. Fumeanu nu mai poate muta.<br>
2. Nargy muta pionul din 4 in 3, iar Fumeanu muta din 3 in 1. Acestea sunt singurele mutari posibile.</p>

<div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>



<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>