<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>piese.in, piese.out</td><td><strong>Sursă</strong></td><td>preONI 2008 Runda 3</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=139">Filip Cristian Buruiana</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td><span class="tiny-user"><a href="http://infoarena.ro/utilizator/filipb"><img src="/utilizator/filipb?action=download&amp;file=avatar&amp;resize=L16x16" alt="filipb">Filip Cristian Buruiana</a> <a title="Rating filipb: 671" class="rating-badge-4" href="http://infoarena.ro/utilizator/filipb?action=rating">•</a><span class="username"><a href="http://infoarena.ro/utilizator/filipb">filipb</a></span></span></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>0.2 sec</td><td><strong>Limită de memorie</strong></td><td>4096 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td>N/A</td></tr></table><div class="banner"><img style="vertical-align: middle; float: left;" src="/static/images/open_big.png"><em>Pentru aceasta problema accesul la </em><strong><a href="/monitor?task=piese">toate sursele trimise</a></strong><em> este liber!</em><br></div>

<p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=piese">Vezi solutiile trimise</a></p>

<h1>Piese<br></h1>

<p>Danut nu a descoperit inca informatica si se joaca cu piese de diferite dimensiuni. Piesele sale sunt de forma patratica si au latura o putere a lui <var>2</var>. Astfel, Danut are piese de dimensiuni <var>1×1</var>, <var>2×2</var>, <var>4×4</var>, <var>8×8</var>, etc. Putem considera ca Danut are un numar nelimitat de piese din fiecare tip. Sarcina lui este acum sa acopere cu aceste piese o tabla de dimensiuni <var>M x N</var>. El stie ca orice patratel al tablei trebuie sa fie acoperit de exact o piesa. Pentru ca vrea sa realizeze acoperirea cu efort minim, Danut vrea sa foloseasca un numar minim de piese.</p>

<h2>Date de intrare</h2>

<p>Fisierul de intrare <var>piese.in</var> contine pe prima linie numerele <var>M</var> si <var>N</var>, cu semnificatia din enunt.</p>

<h2>Date de iesire</h2>

<p>In fisierul de iesire <var>piese.out</var> se va scrie pe prima linie <var><span class="caps">MIN</span></var>, numarul minim de piese folosit. Fiecare din urmatoarele <var>M</var> linii contine cate <var>N</var> numere ce descriu acoperirea cu piese a tablei. Oricare piesa va avea asociat un numar natural unic de la <var>1</var> la <var><span class="caps">MIN</span></var>. Astfel, al <var>j</var>-lea numar de pe linia <var>i+1</var> (<var>i</var> de la <var>1</var> la <var>M</var>, <var>j</var> de la <var>1</var> la <var>N</var>) reprezinta numarul piesei care acopera patratelul de coordonate <var>(i j)</var> de pe tabla. Daca sunt mai multe solutii cu numar minim de piese se poate afisa oricare.</p>

<h2>Restrictii</h2>


<ul><li><var>1 ≤ M, N ≤ 500</var></li>
<li>Punctajul pe un test nu se acorda decat daca acoperirea cu piese este corecta (este folosit un numar minim de piese de tipul celor descrise mai sus si tabla este acoperita in intregime)</li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>piese.in</th><th>piese.out</th></tr><tr><td>3 4<br></td><td>6<br>
1 1 2 4<br>
1 1 3 3<br>
5 6 3 3<br></td></tr></table><h3>Explicatie</h3>

<p>Acoperirea din exemplu corespunde figurii:<br><img src="http://infoarena.ro/problema/piese?action=download&amp;file=acoperire.bmp&amp;safe_only=true" alt=""></p>

<div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>



<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>