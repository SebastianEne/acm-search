<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>barbar.in, barbar.out</td><td><strong>Sursă</strong></td><td>preONI 2005 Runda 1</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=124">Adrian Vladu</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>2 sec</td><td><strong>Limită de memorie</strong></td><td>65536 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td><span class="star-rating"><img src="http://infoarena.ro/static/images/stars/normal-full.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-full.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-full.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-empty.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-empty.png" alt="normal"><div class="hidden">3/5</div></span></td></tr></table><div class="banner"><img style="vertical-align: middle; float: left;" src="/static/images/open_big.png"><em>Pentru aceasta problema accesul la </em><strong><a href="/monitor?task=barbar">toate sursele trimise</a></strong><em> este liber!</em><br></div>

<p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=barbar">Vezi solutiile trimise</a></p>

<h1>Barbar<br></h1>

<p>Paftenie barbarul este un renumit aventurier. A condus razboaie, a descoperit comori, a cucerit cetati si inimile domnitelor. Insa de aceasta data a fost capturat de catre dusmanii sai cei mai temuti si aruncat intr-o temnita. Temnita este de fapt un grid de dimensiune <var>R*C</var>. In anumite celule exista dragoni, unele sunt ocupate de pereti, iar altele sunt libere. Paftenie trebuie sa iasa din temnita mergand numai prin celule libere (o celula are maxim 4 vecini) , si asta stand cat mai departe de fiorosii dragoni ale caror flacari ii pot deteriora vestimentatia (astfel incat minima din distantele pana la cel mai apropiat dragon din fiecare din celulele traseului sau sa fie maxim).</p>

<h2>Cerinta</h2>

<p>Ajutati-l pe barbarul Paftenie sa iasa din temnita, determinand un traseu astfel incat minima din distantele pana la cel mai apropiat dragon din fiecare din celulele traseului sau sa fie maxim!</p>

<h2>Date de Intrare</h2>

<p>Pe prima linie a fisierului de intrare <var>barbar.in</var> sunt date doua numere intregi <var>R</var> si <var>C</var>, reprezentand numarul liniilor, respectiv al coloanelor temnitei. Pe urmatoarele <var>R</var> linii se afla cate <var>C</var> caractere, neseparate prin spatii, cu urmatoarele semnificatii:<br><var>.</var> celula libera<br><var>*</var> perete<br><var>D</var> dragon<br><var>I</var> punctul de plecare al lui Paftenie<br><var>O</var> iesirea din temnita</p>

<h2>Date de Iesire </h2>

<p>Fisierul de iesire <var>barbar.out</var> va contine pe prima linie un singur numar, reprezentand valoarea maxima pentru minima din distantele pana la cel mai apropiat dragon din fiecare din celulele traseului. In caz ca nu exista solutie se va afisa <var>-1</var>.</p>

<h2>Restrictii si precizari</h2>


<ul><li><var>1 ≤ R, C ≤ 1.000</var></li>
<li>Se garanteaza ca in temnita exista cel putin un dragon</li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>barbar.in</th><th>barbar.out</th></tr><tr><td>10 10<br>
..........<br>
.I....D...<br>
..........<br>
..D...D...<br>
.*........<br>
D*........<br>
*...D.....<br>
..****....<br>
...O......<br>
..........<br></td><td>2</td></tr></table><h3>Explicatii</h3>

<p>O solutie posibila:<br><var>..........</var><br><var>.I<strong>ooo</strong>.D...</var><br><var>....<strong>o</strong>.....</var><br><var>..D.<strong>o</strong>.D...</var><br><var>.*..<strong>oo</strong>....</var><br><var>D*...<strong>ooooo</strong></var><br><var><code>*</code>...D....<strong>o</strong></var><br><var>..****...<strong>o</strong></var><br><var>...O<strong>oooooo</strong></var><br><var>..........</var></p>


<div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>

<div id="task_tags"><h3> Indicii de rezolvare</h3><a id="show_tags" href="javascript:show_tags()">
                Arată 2 categorii</a><ul id="task_tags"><li style="display: none;" class="tags_list_item">
            <span class="tag_name color_scheme_0"><a class="tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=48">Cautare</a></span>
            <a href="javascript:show_tag_list(48)" id="tag_anchor_48" class="show_tag_anchor">
                ... 1 tag
            </a>
            <div style="display: none;" id="tag_list_48"> 
                <div class="sub_tag_name"><a class="sub_tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=49">Cautare binara</a></div>
            </div>
        </li>
        <li style="display: none;" class="tags_list_item">
            <span class="tag_name color_scheme_4"><a class="tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=46">Grafuri</a></span>
            <a href="javascript:show_tag_list(46)" id="tag_anchor_46" class="show_tag_anchor">
                ... 1 tag
            </a>
            <div style="display: none;" id="tag_list_46"> 
                <div class="sub_tag_name"><a class="sub_tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=47">Parcurgere in latime</a></div>
            </div>
        </li></ul></div>

<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>