<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>trotuar.in, trotuar.out</td><td><strong>Sursă</strong></td><td>Lot Bistrita 2009, Baraj 3</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=221">Zoltan Szabo</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td><span class="tiny-user"><a href="http://infoarena.ro/utilizator/andrei-alpha"><img src="/utilizator/andrei-alpha?action=download&amp;file=avatar&amp;resize=L16x16" alt="andrei-alpha">Andrei-Bogdan Antonescu</a> <a title="Rating andrei-alpha: 700" class="rating-badge-1" href="http://infoarena.ro/utilizator/andrei-alpha?action=rating">•</a><span class="username"><a href="http://infoarena.ro/utilizator/andrei-alpha">andrei-alpha</a></span></span></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>2.2 sec</td><td><strong>Limită de memorie</strong></td><td>32768 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td>N/A</td></tr></table><p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=trotuar">Vezi solutiile trimise</a></p>

<h1>Trotuar<br></h1>

<p>Un trotuar de lungime <var>N</var> şi lăţime <var>L</var> trebuie pavat cu dale. Dalele sunt de diferite tipuri, dar din fiecare tip avem o cantitate nelimitată. Lungimea dalelor în cazul fiecărui tip este aceeaşi <var>L</var>, iar lăţimea poate să fie o valoare dintre <var>a<sub>1</sub>, a<sub>2</sub>, a<sub>3</sub>,... a<sub>k</sub></var>. Trotuarul are pe suprafaţa lui <var>M</var> zone ocupate, care nu vor fi pavate. Aceste zone au de fiecare dată o formă pătratică de latură <var>1</var> (reprezentând locul unor stâlpi, cutii poştale, canale, etc.). Se cunosc coordonatele acestor <var>M</var> puncte <var>(x<sub>1</sub>,y<sub>1</sub>), (x<sub>2</sub>,y<sub>2</sub>),... (x<sub>m</sub>,y<sub>m</sub>)</var>. ( <var>x</var> reprezintă coloana, <var>y</var> reprezintă linia punctului).<br>
În exemplele de mai jos vedem trei metode distincte de acoperire a unui trotuar de dimensiuni <var>6*3</var> folosind două tipuri de dale: <var>1*3</var>, respectiv <var>2*3</var>, având trei zone ocupate pe trotuar, şi anume: <var>(6,2), (3,1), (6,3)</var>. </p>

<p><img src="http://infoarena.ro/problema/trotuar/?action=download&amp;file=you_rock.jpg&amp;safe_only=true" alt=""></p>

<h2>Cerinţă</h2>

<p>Cunoscând dimensiunea trotuarului, tipurile de dale disponibile, şi coordonatele zonelor ocupate, să se determine numărul de pavări distincte posibile modulo <var>666013</var>.</p>

<h2>Date de intrare</h2>

<p>Fişierul <var>trotuar.in</var> conţine pe prima linie <var>4</var> numere naturale <var>N, L, K,</var> şi <var>M</var> separate prin câte un spaţiu, reprezentând lungimea şi lăţimea trotuarului, respectiv numărul tipurilor de dale şi numărul zonelor ocupate. Pe linia următoare avem cele <var>K</var> lăţimi ale tipurilor de dale: <var>a<sub>1</sub>, a<sub>2</sub>, a<sub>3</sub>,..., a<sub>k</sub></var> separate prin câte un spaţiu. Următoarele <var>M</var> linii conţin câte două numere naturale separate prin spaţiu, reprezentând câte o coordonată <var>(x<sub>i</sub>,y<sub>i</sub>)</var>, pentru fiecare zona ocupata.</p>

<h2>Date de ieşire</h2>

<p>Fişierul <var>trotuar.out</var> va conţine o singură linie, numărul pavărilor distincte <b>modulo <var>666013</var></b>.</p>

<h2>Restricţii</h2>


<ul><li><var>1 ≤ N ≤ 100000</var></li>
<li><var>1 ≤ K ≤ L ≤ 255</var></li>
<li><var>1 ≤ a<sub>1</sub>, a<sub>2</sub>, a<sub>3</sub>,..., a<sub>k</sub> ≤ L</var> sunt distincte două câte două</li>
<li><var>0 ≤ M ≤ 450</var></li>
<li>Pentru <var>20%</var> din teste <var>M = 0</var></li>
<li>Se garantează existenţa a cel puţin unei soluţii</li>
<li>Se recomandă folosirea întregilor pe <var>64</var> de biţi pentru operaţia de înmultire.</li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>trotuar.in</th><th>trotuar.out</th></tr><tr><td>6 3 2 3<br>
2 1<br>
6 2<br>
3 1<br>
6 3<br></td><td>4<br></td></tr></table><div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>



<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>