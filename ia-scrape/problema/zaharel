<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>zaharel.in, zaharel.out</td><td><strong>Sursă</strong></td><td>Concurs de incalzire 2004</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=250">Mircea Bogdan Pasoi</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>0.3 sec</td><td><strong>Limită de memorie</strong></td><td>65536 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td><span class="star-rating"><img src="http://infoarena.ro/static/images/stars/normal-full.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-full.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-full.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-empty.png" alt="normal"><img src="http://infoarena.ro/static/images/stars/normal-empty.png" alt="normal"><div class="hidden">3/5</div></span></td></tr></table><p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=zaharel">Vezi solutiile trimise</a></p>

<h1>Zaharel<br></h1>

<p>Zaharel este un mare pasionat al culorilor, astfel incat a luat o foaie de matematica cu <var>N</var> linii si <var>N</var> coloane si a desenat <var>M</var> buline rosii sau albastre, in casutele foii de mate, in diferite pozitii. Dupa ce a desenat punctele a observat ca exista cel putin un punct rosu pe fiecare linie si cel putin un punct albastru pe fiecare coloana si astfel si-a pus urmatoarea problema: poate sa construiasca doua poligoane (nu neaparat convexe) care sa aiba acelasi numar de varfuri, unul din poligoane sa aiba in varfuri doar buline rosii iar celalalt doar buline albastre, iar centrul de greutate al celor doua poligoane sa fie acelesi? Zaharel nu este baiat pretentios deci nu are nimic impotriva daca cel doua poligoane se intersecteaza sau daca sunt unul in interiorul celuilalt! Trebuie sa fie respectate doar conditiile mentionate mai sus. Centrul de greutate al unui poligon cu varfurile <var>(x<sub>0</sub>,y<sub>0</sub>)</var><var>(x<sub>1</sub>,y<sub>1</sub>)</var>...<var>(x<sub>n</sub>,y<sub>n</sub>)</var> este considerat ca fiind punctul de coordonate <var>((x<sub>0</sub> + x<sub>1</sub> + ... + x<sub>n</sub>)/(n+1), (y<sub>0</sub> + y<sub>1</sub> + ... y<sub>n</sub>)/(n+1))</var>.</p>

<h2>Cerinta</h2>

<p>Scrieti un program care pentru o foaie de mate desenata ca mai sus de Zaharel, determina cele doua poligoane.</p>

<h2>Date de intrare</h2>

<p>Pe prima linie a fisierului <var>zaharel.in</var> se gasesc numerele naturale <var>N</var> si <var>M</var>. Urmatoarele <var>M</var> linii sunt de forma <var>i j c</var> unde <var>i</var> si <var>j</var> sunt numere naturale reprezentand linia, respectiv coloana unei buline, iar <var>c</var> este un caracter reprezentand culoarea (<var>R</var> pentru rosu si <var>A</var> pentru albastru)</p>

<h2>Date de iesire</h2>

<p>Pe prima linie a fisierului de iesire <var>zaharel.out</var> sa va afisa un numar, reprezentand cate varfuri are fiecare poligon. Pe urmatoarea linie se vor afisa punctele care descriu poligonul cu varfurile in buline rosii, intr-o ordine oarecare. Pe a treia linie se vor afisa punctele care descriu poligonul cu varfurile in buline albastre, intr-o ordine oarecare.</p>

<h2>Restrictii si precizari</h2>


<ul><li><var>6 ≤ N ≤ 1 000</var></li>
</ul><ul><li><var>2*N ≤ M ≤ 100 000</var></li>
</ul><ul><li>Daca nu exista solutie se va afisa -1 in fisierul de iesire</li>
</ul><ul><li>Daca exista mai multe solutii se va afisa una singura</li>
</ul><ul><li>Poligoanele rezultate trebuie sa aiba minim 2 varfuri</li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>zaharel.in</th><th>zaharel.out</th></tr><tr><td>6 12<br>
1 3 R<br>
2 4 R<br>
3 1 R<br>
4 6 R<br>
5 2 R<br>
6 4 R<br>
2 1 A <br>
4 2 A<br>
3 3 A<br>
1 4 A<br>
6 5 A<br>
6 6 A<br></td><td>3<br>
1 3 2 4 3 1<br>
1 4 2 1 3 3</td></tr></table><div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>

<div id="task_tags"><h3> Indicii de rezolvare</h3><a id="show_tags" href="javascript:show_tags()">
                Arată 2 categorii</a><ul id="task_tags"><li style="display: none;" class="tags_list_item">
            <span class="tag_name color_scheme_5"><a class="tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=41">Geometrie</a></span>
            <a href="javascript:show_tag_list(41)" id="tag_anchor_41" class="show_tag_anchor">
                ... 1 tag
            </a>
            <div style="display: none;" id="tag_list_41"> 
                <div class="sub_tag_name"><a class="sub_tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=62">ad-hoc</a></div>
            </div>
        </li>
        <li style="display: none;" class="tags_list_item">
            <span class="tag_name color_scheme_1"><a class="tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=61">Greedy</a></span>
            <a href="javascript:show_tag_list(61)" id="tag_anchor_61" class="show_tag_anchor">
                ... 1 tag
            </a>
            <div style="display: none;" id="tag_list_61"> 
                <div class="sub_tag_name"><a class="sub_tag_search_anchor" href="/cauta-probleme?tag_id%5B%5D=70">ad-hoc</a></div>
            </div>
        </li></ul></div>

<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>