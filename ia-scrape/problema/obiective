<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>obiective.in, obiective.out</td><td><strong>Sursă</strong></td><td>preONI 2007 Runda Finala</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=139">Filip Cristian Buruiana</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td><span class="tiny-user"><a href="http://infoarena.ro/utilizator/filipb"><img src="/utilizator/filipb?action=download&amp;file=avatar&amp;resize=L16x16" alt="filipb">Filip Cristian Buruiana</a> <a title="Rating filipb: 671" class="rating-badge-4" href="http://infoarena.ro/utilizator/filipb?action=rating">•</a><span class="username"><a href="http://infoarena.ro/utilizator/filipb">filipb</a></span></span></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>0.8 sec</td><td><strong>Limită de memorie</strong></td><td>16384 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td>N/A</td></tr></table><div class="banner"><img style="vertical-align: middle; float: left;" src="/static/images/open_big.png"><em>Pentru aceasta problema accesul la </em><strong><a href="/monitor?task=obiective">toate sursele trimise</a></strong><em> este liber!</em><br></div>

<p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=obiective">Vezi solutiile trimise</a></p>

<h1>Obiective<br></h1>

<p>Intr-un oras mai ciudat exista <var>N</var> intersectii si <var>M</var> strazi unidirectionale ( sens unic ) intre aceste intersectii. Aceasta inseamna ca de la o intersectie la alta intre care exista strada nu se poate circula decat in unul din cele doua sensuri posibile. Analizand mai atent harta strazilor din oras, politia locala a ajuns la concluzia ca din unele intersectii nu se poate ajunge in alte intersectii mergand pe strazi doar in sensul lor de parcurgere. Primaria orasului doreste sa construiasca o gara noua si un muzeu care va atrage numerosi turisti. Amplasamentele cladirilor se vor afla in doua intersectii diferite. Datorita sistemului stradal lucrurile sunt complicate, deoarece exista posibilitatea ca turistii care au ajuns la gara sa nu poata, luand un taxi spre exemplu, ajunge la intersectia unde se afla muzeul, si, de aceea, politia va trebui sa schimbe orientarea unor strazi pentru a face acest lucru posibil.<br>
Firma care va construi atat muzeul cat si gara pune la dispozitia primariei <var>T</var> oferte, prin care se specifica locatia ambelor constructii. Pentru fiecare oferta primaria trebuie sa identifice care este numarul minim de strazi carora trebuie sa le schimbe orientarea pentru ca turistii sa poata ajunge de la gara la muzeu.</p>

<h2>Date de intrare</h2>

<p>Datele de intrare se citesc din fisierul <var>obiective.in</var>. Pe prima linie a fisierului se afla doua numere naturale, <var>N</var> si <var>M</var>, numarul de intersectii si numarul de strazi unidirectionale intre aceste intersectii. Fiecare din urmatoarele <var>M</var> linii contine o pereche de numere naturale (<var>u</var>, <var>v</var>), cu semnificatia ca exista strada orientata de la <var>u</var> la <var>v</var>. Dupa descrierea sistemului stradal urmeaza numarul de oferte, <var>T</var>. Fiecare din urmatoarele <var>T</var> linii, pana la sfarsitul fisierului, descriu cate o oferta. O oferta este formata din indicii a doua intersectii, primul indice reprezentand intersectia unde urmeaza sa fie construita gara, iar cel de-al doilea intersectia unde se construieste muzeul.</p>

<h2>Date de iesire</h2>

<p>Datele de iesire se afiseaza in fisierul <var>obiective.out</var>. Pe linia <var>i</var> din acest fisier se afla numarul minim de strazi care trebuiesc reorientate pentru a exista cel putin un drum de la gara la muzeu, conform amplasarii acestor cladiri din a <var>i</var>-a oferta din fisierul de intrare.</p>

<h2>Restrictii</h2>


<ul><li><var>4 ≤ N ≤ 32 000</var></li>
<li><var>5 ≤ M ≤ 64 000</var></li>
<li><var>1 ≤ T ≤ 100 000</var></li>
<li>Pentru orientarea initiala a strazilor, se garanteaza ca oricum am alege 3 intersectii <var>A</var>, <var>B</var>, <var>C</var>, astfel incat sa putem ajunge din <var>A</var> in <var>C</var> si din <var>B</var> in <var>C</var>, atunci putem ajunge fie din <var>A</var> in <var>B</var>, fie din <var>B</var> in <var>A</var> ( posibil ambele )</li>
<li>Daca se ignora orientarea strazilor, se poate ajunge din orice intersectie in oricare alta</li>
<li>Intre oricare doua intersectii exista cel mult o strada</li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>obiective.in</th><th>obiective.out</th></tr><tr><td>5 6<br>
1 3<br>
2 1<br>
3 2<br>
2 4<br>
4 5<br>
3 4<br>
3<br>
4 3<br>
5 1<br>
1 5<br></td><td>1<br>
2<br>
0<br></td></tr></table><h3>Explicatie</h3>

<p>Pentru a doua oferta, putem redirectiona strazile <var>4-&gt;5</var> si <var>2-&gt;4</var> pentru a putea ajunge din intersectia <var>5</var> in intersectia <var>1</var>.</p>

<div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>



<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>