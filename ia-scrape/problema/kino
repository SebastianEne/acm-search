<div class="wiki_text_block"><p> </p>

<table style="margin-left:auto;margin-right:auto;" cellspacing="0"><tr><td><strong>Fişierul intrare/ieşire:</strong></td><td>kino.in, kino.out</td><td><strong>Sursă</strong></td><td>Algoritmiada 2009, Runda 3</td></tr><tr><td><strong>Autor</strong></td><td><a href="/cauta-probleme?tag_id%5B%5D=161">Adrian Airinei</a></td><td><a href="http://infoarena.ro/implica-te/extinde-arhiva/"><strong>Adăugată de</strong></a></td><td><span class="tiny-user"><a href="http://infoarena.ro/utilizator/pauldb"><img src="/utilizator/pauldb?action=download&amp;file=avatar&amp;resize=L16x16" alt="pauldb">Paul-Dan Baltescu</a> <a title="Rating pauldb: 792" class="rating-badge-4" href="http://infoarena.ro/utilizator/pauldb?action=rating">•</a><span class="username"><a href="http://infoarena.ro/utilizator/pauldb">pauldb</a></span></span></td></tr><tr><td><strong>Timp execuţie pe test</strong></td><td>1.2 sec</td><td><strong>Limită de memorie</strong></td><td>16384 kbytes</td></tr><tr><td><strong>Scorul tău în arhivă</strong></td><td>N/A</td><td><strong>Dificultate</strong></td><td>N/A</td></tr></table><p style="float: right; margin-right: 1em"><a href="http://infoarena.ro/monitor?task=kino">Vezi solutiile trimise</a></p>

<h1>Kino<br></h1>

<p>Pe un perete al unei piramide, niste arheologi au descoperit <var>N</var> şiruri de numere naturale strict pozitive, toate de lungime <var>L</var>. Din pacăte, de-a lungul timpului, unele dintre numere au fost şterse. Pe lânga aceste şiruri, ei mai cunosc un şir special <var>K<sub>i</sub></var>, tot de lungime <var>L</var>, dar fără numere lipsă, găsit pe un pergament. Se ştie faptul ca şirurile iniţiale respectă o proprietate ciudată: numerele de pe poziţia <var>i</var> din fiecare şir sunt cuprinse <var>1</var> şi <var>K<sub>i</sub></var> (inclusiv). Fiindcă şirurile nu le folosesc la nimic şi pentru că sunt plătiţi cu ora, arheologii au inceput să se joace cu ele punându-şi diferite intrebări. Astfel, ei au definit distanţa dintre două şiruri ca numărul de poziţii corespondente cu valori diferite. De exemplu, distanţa între şirurile <var>[<strong>1</strong> 2 <strong>5 3</strong> 3]</var> şi <var>[<strong>3</strong> 2 <strong>1 10</strong> 3]</var> este <var>3</var>. Plecând de la acest concept, ei se intreabă cu ce numere ar trebui sa completeze locurile lipsă astfel incât proprietatea să fie respectată în continuare si suma distanţelor între oricare două şiruri iniţiale să fie maximă. Cum arheologii nu se pricep la informatică, nu au reuşit să rezolve problema şi, de aceea, v-au rugat pe voi sa îi ajutaţi.</p>

<h2>Date de intrare</h2>

<p>Pe prima linie a fişierului <var>kino.in</var> se află <var>2</var> numere naturale <var>N</var> si <var>L</var>, având semnificaţia din enunţ. Pe a doua linie, se află <var>L</var> numere ce reprezintă şirul de pe pergament. Urmatoarele <var>N</var> linii conţin câte <var>L</var> numere fiecare, reprezentând şirurile găsite de arheologi. În locul numerelor lipsă, apare cifra <var>0</var>.</p>

<h2>Date de ieşire</h2>

<p>În fişierul de ieşire <var>kino.out</var> veti afişa suma maximă posibilă a distanţelor între oricare două şiruri.</p>

<h2>Restricţii</h2>


<ul><li><var>1 ≤ N ≤ 20 000</var></li>
<li><var>1 ≤ L ≤ 50</var></li>
<li><var>1 ≤ K<sub>i</sub> ≤ 1 000 000 000</var></li>
<li>Pentru <var>30%</var> din teste <var>1 ≤ N, K<sub>i</sub> ≤ 500</var></li>
</ul><h2>Exemplu</h2>

<table class="example" cellspacing="0"><tr><th>kino.in</th><th>kino.out</th></tr><tr><td>3 3<br>
5 4 2<br>
1 0 2<br>
1 3 0<br>
4 4 0<br></td><td>7<br></td></tr></table><h3>Explicaţie</h3>

<p>O soluţie ce obţine suma maximă ar putea fi alcătuită din şirurile <var>[1 <strong>1</strong> 2]</var>, <var>[1 3 <strong>1</strong>]</var> şi <var>[4 4 <strong>1</strong>]</var>. Distanţa între primele două şiruri este <var>2</var>, între primul şi al treilea <var>3</var>, iar între al doilea şi al treilea <var>2</var>. Astfel, suma totală (şi maximă posibilă) este <var>7</var>.</p>

<div class="macroMessage">Trebuie sa te autentifici pentru a trimite solutii. <a href="/login">Click aici</a></div>



<p><a href="http://infoarena.ro/documentatie/tutorial">Cum se trimit solutii?</a></p></div>